<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4 sticky-top">
  <a class="navbar-brand d-flex align-items-center" href="#">
    <img src="/logo3.png" alt="Ashare logo" height="50" class="me-3" />
  </a>

  <button
    class="navbar-toggler"
    type="button"
    data-bs-toggle="collapse"
    data-bs-target="#navbarNav"
    aria-controls="navbarNav"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
    <ul class="navbar-nav align-items-center gap-2 ms-auto">

      <!-- 🔒 Logged-in user (якщо currentUser завантажився) -->
       <ng-container *ngIf="userService.user() as user; else guestLinks">
        <li class="nav-item">
          <span class="navbar-text text-light">Hey, {{ user.username }}</span>
        </li>
        <li class="nav-item">
          <a routerLink="/users" class="btn btn-outline-light">Users</a>
        </li>
        <li class="nav-item">
          <a routerLink="/posts" class="btn btn-outline-light">Posts</a>
        </li>
        <li class="nav-item">
          <button class="btn btn-outline-light" (click)="logout()">Logout</button>
        </li>
      </ng-container>

      <!-- 🔓 Guest -->
      <ng-template #guestLinks>
        <li class="nav-item">
          <button class="btn btn-outline-light" (click)="login()">Login</button>
        </li>
        <li class="nav-item">
          <button class="btn btn-outline-light" (click)="register()">Register</button>
        </li>
      </ng-template>

    </ul>
  </div>
</nav>

<main class="p-4">
  <router-outlet></router-outlet>
</main>
